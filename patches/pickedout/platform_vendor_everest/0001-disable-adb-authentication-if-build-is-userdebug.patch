From 26ed52d9288429b7b02f24101247b890925b593d Mon Sep 17 00:00:00 2001
From: kaii-lb <aosp@crave.io>
Date: Sun, 14 Jul 2024 09:19:08 +0000
Subject: [PATCH] disable adb authentication if build is userdebug

---
 config/everest_props.mk | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/config/everest_props.mk b/config/everest_props.mk
index 7d0f9e33..6ab86b89 100644
--- a/config/everest_props.mk
+++ b/config/everest_props.mk
@@ -23,6 +23,9 @@ endif
 ifeq ($(TARGET_BUILD_VARIANT),eng)
 # Disable ADB authentication
 PRODUCT_SYSTEM_DEFAULT_PROPERTIES += ro.adb.secure=0
+else ifeq ($(TARGET_BUILD_VARIANT),userdebug)
+# Still disable adb authentication
+PRODUCT_SYSTEM_DEFAULT_PROPERTIES += ro.adb.secure=0
 else
 # Enable ADB authentication
 PRODUCT_SYSTEM_DEFAULT_PROPERTIES += ro.adb.secure=1
-- 
2.45.1
