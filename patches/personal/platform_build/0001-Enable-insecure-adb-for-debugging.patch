From 5bf36e62fe43fe344191936a07417537ce11cb3d Mon Sep 17 00:00:00 2001
From: "Christopher A. Williamson" <home@chrisaw.com>
Date: Sun, 28 Apr 2024 22:01:09 +0100
Subject: [PATCH 1/3] Enable insecure adb for debugging

---
 core/main.mk | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/core/main.mk b/core/main.mk
index 090fe9a..e8ee273 100644
--- a/core/main.mk
+++ b/core/main.mk
@@ -394,9 +394,8 @@ ifneq (,$(user_variant))
   # Target is secure in user builds.
   ADDITIONAL_SYSTEM_PROPERTIES += ro.secure=1
 
-  ifeq ($(user_variant),user)
-    ADDITIONAL_SYSTEM_PROPERTIES += ro.adb.secure=1
-  endif
+  # Enable unauthenticated adb for debugging.
+  ADDITIONAL_SYSTEM_PROPERTIES += ro.adb.secure=0
 
   # Disable debugging in plain user builds.
   enable_target_debugging :=
-- 
2.44.0
